<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Responsive plaatjes</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"/>
	<link rel="icon" href="http://tbusser.github.io/patlab/static/site/img/favicon.ico" type="image/x-icon">
	<link rel="stylesheet" href="http://tbusser.github.io/patlab/static/patternlab/styleguide.css">
	<link rel="stylesheet" href="http://tbusser.github.io/patlab/static/patternlab/solarized_light.css">

	<!--[if (gt IE 8) | (IEMobile)]>
	<link rel="stylesheet" href="http://tbusser.github.io/patlab/static/site/css/cz.css">
	<![endif]-->

	<!--[if lte IE 9]>
	<script src="http://tbusser.github.io/patlab/static/site/js/shims/classList.js"></script>
	<![endif]-->

	<!--[if lte IE 8]>
	<link rel="stylesheet" href="http://tbusser.github.io/patlab/static/site/css/cz-ie.css">
	<script src="http://tbusser.github.io/patlab/static/site/js/shims/addEventListener.js"></script>
	<script src="http://tbusser.github.io/patlab/static/site/js/shims/Array.indexOf.js"></script>
	<script src="http://tbusser.github.io/patlab/static/site/js/shims/Array.forEach.js"></script>
	<script src="http://tbusser.github.io/patlab/static/site/js/shims/Array.isArray.js"></script>
	<script src="http://tbusser.github.io/patlab/static/site/js/shims/Object.create.js"></script>
	<script src="http://tbusser.github.io/patlab/static/site/js/shims/Object.keys.js"></script>
	<![endif]-->

	<!--[if !IE]> -->
	<link rel="stylesheet" href="http://tbusser.github.io/patlab/static/site/css/cz.css">
	<!-- <![endif]-->
	<script src="http://tbusser.github.io/patlab/static/site/js/vendor/modernizr/modernizr.js"></script>
</head>
<body class="sg-body">
	<article>
		<article class="sg-article">
	<section class="sg-section">
		<h1 class="sg-subheader">Responsive plaatjes</h1>
		<p>Het plaatje hieronder zal 50% van de breedte in beslag nemen. Wanneer de breedte wordt aangepast zal het script gaan kijken of er een ander formaat van het plaatje nodig is om een scherp beeld te leveren. Hierbij wordt ook rekening gehouden met responsive schermen, de resolutie van het plaatje zal dan verdubbeld worden.</p>
		<p>Bij deze oplossing gaan we er vanuit dat de server die de plaatjes serveert het plaatje in (vrijwel ieder) willekeurig formaat kan teruggeven. De gewenste afmeting voor het plaatje moet middels de URL kunnen worden aangegeven.</p>
		<p>Wanneer er geen JavaScript beschikbaar is zal het plaatje in een vooraf vastgelegde resolutie worden getoond, in dit voorbeeld is dat 340px bij 191px, en zal dat geschaald zal worden.</p>
		<div class="sg-example">
			<figure>
				<img src="" alt="Een placeholder image met de resolutie van het img element" class="image-replace" data-width="340" data-src="http://www.placehold.it/{width}x{height}" data-ratio="1.77777778" style="width:50%;">
				<noscript>
					<img src="http://www.placehold.it/340x191" alt="Een placeholder image met de resolutie van het img element" style="width:50%;">
				</noscript>
			</figure>
		</div>
		<div class="sg-instructions">
			<div class="sg-code">
				<pre class="hljs"><code class="hljs xml">
    <span class="hljs-tag">&lt;<span class="hljs-title">figure</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">img</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">""</span> <span class="hljs-attribute">alt</span>=<span class="hljs-value">"Een placeholder image met de resolutie van het img element"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"image-replace"</span> <span class="hljs-attribute">data-width</span>=<span class="hljs-value">"340"</span> <span class="hljs-attribute">data-src</span>=<span class="hljs-value">"http://www.placehold.it/{width}x{height}"</span> <span class="hljs-attribute">data-ratio</span>=<span class="hljs-value">"1.77777778"</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"width:50%;"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">noscript</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">img</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"http://www.placehold.it/340x191"</span> <span class="hljs-attribute">alt</span>=<span class="hljs-value">"Een placeholder image met de resolutie van het img element"</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"width:50%;"</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">noscript</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">figure</span>&gt;</span>
                </code></pre>
				<pre class="hljs"><code class="hljs javascript">
    <span class="hljs-keyword">var</span> hasResponsiveImages = (document.querySelectorAll(<span class="hljs-string">'div[role="image-placeholder"]'</span>).length &gt; <span class="hljs-number">0</span>) || (document.querySelectorAll(<span class="hljs-string">'img.image-replace'</span>).length &gt; <span class="hljs-number">0</span>);
    <span class="hljs-keyword">if</span> (hasResponsiveImages) {
        <span class="hljs-built_in">require</span>([<span class="hljs-string">'ui/images-ext'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(ResponsiveImages)</span> {</span>
            <span class="hljs-keyword">var</span> images = <span class="hljs-keyword">new</span> ResponsiveImages();
        });
    }
                </code></pre>
			</div>
			<div class="sg-notes">
				<p>Door het <code>img</code>-element in een <code>figure</code>-element te wrappen kunnen we makkelijk een fallback toevoegen voor wanneer er geen JavaScript beschikbaar is.</p>
				<p>In het attribuut <code>data-src</code> dient de URL te staan waarmee in Javascript een nieuwe URL voor het gewenste formaat gemaakt kan worden. In de URL kan gebruik gemaakt worden van de placeholders <code>{height}</code> en <code>{width}</code>, deze zullen worden vervangen door de daadwerkelijke waarden.</p>
				<p>Het <code>data-ratio</code> attribuut is optioneel, wanneer deze niet wordt opgegeven zal het plaatje worden opgevraagd met enkel de breedte te parameter. Het is dan aan de server om te bepalen hoe hoog het plaatje moet worden.</p>
			</div>
		</div>
	</section>

	<section class="sg-section">
		<h1 class="sg-subheader">Responsive plaatjes met art direction</h1>
		<p>Naast het opvragen van het plaatje in een bepaald formaat is het ook mogelijk om aan te geven dat er art direction is toegepast op het plaatje. In de browser zal dan worden bepaald in welk breakpoint de website zich bevindt en dit meegeven aan de server wanneer het plaatje voor het formaat wordt opgevraagd.</p>
		<p>In het voorbeeld hieronder wordt in het plaatje getoond in welk breakpoint zich bevindt.</p>
		<div class="sg-example">
			<figure>
				<img src="" alt="Een placeholder image met de resolutie van het img element en het breakpoint waarin de site zich bevindt" class="image-replace" data-width="340" data-src="http://www.placehold.it/{width}x{height}" data-ratio="3" style="width:100%;" data-art-direction="1">
				<noscript>
					<img src="http://www.placehold.it/340x191" alt="Een placeholder image met de resolutie van het img element" style="width:100%;">
				</noscript>
			</figure>
		</div>
		<div class="sg-instructions">
			<div class="sg-code">
				<pre class="hljs"><code class="hljs xml">
    <span class="hljs-tag">&lt;<span class="hljs-title">figure</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">img</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">""</span> <span class="hljs-attribute">alt</span>=<span class="hljs-value">"Een placeholder image met de resolutie van het img element"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"image-replace"</span> <span class="hljs-attribute">data-width</span>=<span class="hljs-value">"340"</span> <span class="hljs-attribute">data-src</span>=<span class="hljs-value">"http://www.placehold.it/{width}x{height}"</span> <span class="hljs-attribute">data-ratio</span>=<span class="hljs-value">"3"</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"width:100%;"</span> <span class="hljs-attribute">data-art-direction</span>=<span class="hljs-value">"1"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">noscript</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">img</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"http://www.placehold.it/340x191"</span> <span class="hljs-attribute">alt</span>=<span class="hljs-value">"Een placeholder image met de resolutie van het img element"</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"width:100%;"</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">noscript</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">figure</span>&gt;</span>
                </code></pre>
			</div>
			<div class="sg-notes">
				<p>Er kan aangegeven worden dat art direction beschikbaar is voor het plaatje door middel van het attribuut <code>data-art-direction="1"</code>.</p>
			</div>
		</div>
	</section>

	<section class="sg-section">
		<h1 class="sg-subheader">Lazy loaded responsive plaatjes</h1>
		<p>De responsive plaatjes kunnen ook door middel van <strong>lazy loading</strong> worden ingeladen. Hierbij wordt in de HTML het plaatje als een <code>div</code>-element opgezet. Wanneer het <code>div</code>-element bijna zichtbaar is in de viewport wordt dit middels JavaScript omgezet naar een responsive plaatje.</p>
		<div class="sg-example">
			<div>
				<figure>
					<div role="image-placeholder" data-src="http://placehold.it/{width}x{height}" data-width="500" data-ratio="2.5"></div>
					<noscript>
						<img src="http://placehold.it/340x191" alt="">
					</noscript>
				</figure>

			</div>
		</div>
		<div class="sg-instructions">
			<div class="sg-code">
				<pre class="hljs"><code class="hljs xml">
    <span class="hljs-tag">&lt;<span class="hljs-title">figure</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">role</span>=<span class="hljs-value">"image-placeholder"</span> <span class="hljs-attribute">data-src</span>=<span class="hljs-value">"http://placehold.it/{width}x{height}"</span> <span class="hljs-attribute">data-width</span>=<span class="hljs-value">"500"</span> <span class="hljs-attribute">data-ratio</span>=<span class="hljs-value">"2.5"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">noscript</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">img</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"http://placehold.it/340x191"</span> <span class="hljs-attribute">alt</span>=<span class="hljs-value">""</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">noscript</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">figure</span>&gt;</span>
                </code></pre>
			</div>
			<div class="sg-notes">

			</div>
		</div>
	</section>
</article>
	</article>
	<script src="http://tbusser.github.io/patlab/static/patternlab/code-examples.js"></script>
		<script src="http://tbusser.github.io/patlab/static/site/js/vendor/jrburke/require.js"></script>
	<!-- <script src="http://tbusser.github.io/patlab/static/site/js.min/built.js"></script> -->
	<script>
		require.config({
			baseUrl: 'http://tbusser.github.io/patlab/static/site/js/cz',
			paths: {
				'jquery': '../vendor/jquery/jquery',
				'modernizr': '../vendor/modernizr/modernizr-wrapper',
				'conditioner': '../vendor/rschennink/conditioner',
				'mmenu': '../vendor/fredheusschen/jquery.mmenu.all',
				'dynamic-iframe':'../vendor/medicinfo/dyframe',
				'dynamic-iframe-host':'../vendor/medicinfo/dyframe_host',
				'twitter-intent': '../vendor/twitter/widgets'
			}
		});
		requirejs(['jquery','conditioner'], function($,conditioner){
			'use strict';
			conditioner.loadModules(document);
		});
		(function() {
			'use strict';

			// This array holds the tests for the AMD modules which might be needed. Each entry is an object
			// with the following properties:
			//	- mode		: Right now 'all' is the only allowed value, it means the document.querySelectorAll method should be used to
			//				run the query.
			//	- query		: The query to run using the querySelectorAll method
			//	- module	: The name of the module to load when the query returns one or more elements
			var tests = [
					{mode: 'all', query: 'div[role="image-placeholder"], img.image-replace', module: 'ui/images-ext'},
					{mode: 'all', query: '[data-role="explanation"]', module: 'ui/whatsthat'},
					{mode: 'all', query: '.contact-item-twitter', module: 'twitter-intent'},
					{mode: 'all', query: '.faq', module: 'ui/faq', name: 'faq'},
					{mode: 'all', query: '#scroll-top-target', module: 'ui/scrollToTop'},
					{mode: 'all', query: '[data-scroll-to-target]', module: 'ui/alphabetList'},
					{mode: 'all', query: '[data-stick-to-top]', module: 'ui/stick-to-top'},
					{mode: 'all', query: 'iframe[name^="dyniframe_"]', module: 'dynamic-iframe'},
					{mode: 'all', query: 'iframe[name^="dyniframe_"]', module: 'dynamic-iframe-host'}
				],
				modules = []; // This will hold the modules we need to load

			// Loop through the tests
			for(var index=0,ubound=tests.length; index<ubound; index++) {
				// Reset the matches flag, it should be false by default
				var matches = false;
				// Check if the test mode is 'all'
				if (tests[index].mode === 'all') {
					// Use querySelectorAll to run the query, it is a match when the method returned 1 or more items
					matches = document.querySelectorAll(tests[index].query).length > 0;
				}
				// If there is a match we need to store the module in the array of modules to load
				if (matches) {
					modules.push(tests[index].module);
				}
			}
			// Check if there are modules to load
			if (modules.length > 0) {
				// Load the modules which we've tested and found necessary
				require(modules, function(modules) {
					// Loop through the arguments object, it will hold the modules we wanted to load
					for (var index=0,ubound=arguments.length; index<ubound; index++) {
						// Create an instance of the module, to do this we need to make sure it is a function
						if (typeof arguments[index] === 'function') {
							var module = new arguments[index];
						}
					}
				});
			}

			// This module doesn't have an instance created, this is why it isn't included in the tests array
			var hasTwitterIntent = (document.querySelectorAll('.contact-item-twitter').length > 0);
			if (hasTwitterIntent) {
				require(['twitter-intent']);
			}
			// -ms-viewport in reset.scss zorgt ervoor dat snap mode werkt maar ook voor een bug in ie10 op WP8,
			// onderstaand script zorgt voor een fix
			if ('-ms-user-select' in document.documentElement.style && navigator.userAgent.match(/IEMobile\/10\.0/)) {
				var msViewportStyle = document.createElement('style');
				msViewportStyle.appendChild(
					document.createTextNode('@-ms-viewport{width:auto !important;}html.mm-opened.mm-opening .mm-page{height:100% !important;}')
				);
				document.getElementsByTagName('head')[0].appendChild(msViewportStyle);
			}
		})();
	</script>

</body>
</html>